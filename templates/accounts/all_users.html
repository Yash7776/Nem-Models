{% extends 'base.html' %}
{% block title %}All Users{% endblock %}
{% block content %}
<h1>All Users and Profile Assignments</h1>
<table border="1">
    <thead>
        <tr>
            <th>id</th>
            <th>user_id</th>
            <th>line_no</th>
            <th>name</th>
            <th>email</th>
            <th>username</th>
            <th>password</th>
            <th>mob</th>
            <th>profile_id</th>
            <th>View Profile</th>
        </tr>
    </thead>
    <tbody>
        {% for row in rows %}
        <tr>
            <td>{{ row.id }}</td>
            <td>{{ row.user_id }}</td>
            <td>{{ row.line_no }}</td>
            <td>{% if row.line_no == 0 %}{{ row.name }}{% else %}--{% endif %}</td>
            <td>{% if row.line_no == 0 %}{{ row.email|default:"--" }}{% else %}--{% endif %}</td>
            <td>{% if row.line_no == 0 %}{{ row.username }}{% else %}--{% endif %}</td>
            <td>{% if row.line_no == 0 %}{{ row.password }}{% else %}--{% endif %}</td>
            <td>{% if row.line_no == 0 %}{{ row.mobile_no|default:"--" }}{% else %}--{% endif %}</td>
            <td>{{ row.profile.profile_name|default:"--" }}</td>
            <td><a href="/user/{{row.username}}" class="btn btn-info">View</a></td>

        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}